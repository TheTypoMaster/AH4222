<html>
   <head>
      <!--<link rel="stylesheet" href='stylemain.css' type='text/css'>
         <link rel="stylesheet" href='colors.css' type='text/css'>-->
            <link rel="stylesheet" href='club.css' type='text/css'>
            <meta http-equiv="Pragma" content="no-cache">
            <!--<meta http-equiv="refresh" content="600">-->
            <title></title>
            <base target="_self">
            <script language='javascript' src='util.js'></script>
            <script language="javascript">
<!-- hide
var update_flag = '<%ejGet(upgrade_flag)%>';
var AdslOn = '<%ejGetOther(stsadslget,5,1)%>';
var WanIp = '<%ejGetOther(wanInterfaceInfo, wanip)%>';

function frmLoad() {
   var update = '<%ejFncCmd(stsadslupdate)%>';
   var mode = '<%ejGetWl(wlMode)%>';
   var enblWep = '<%ejGetWl(wlWep)%>';
   var channel = '<%ejGetWl(wlChannel)%>';
   with ( document.forms[0] )
   {
      pppUserName.value = '<%ejGet(pppUserName)%>';
      pppPassword.value = '<%ejGet(pppPassword)%>';
      mgcpName.value = '<%ejGetVoice(gwName)%>';
      callAgent.value = '<%ejGetVoice(caAddr)%>';
      ssId.value = '<%ejGetWl(wlSsid)%>';
      if(mode == 'ap')
         document.forms[0].wlMode.options[0].selected = true;
      else
         document.forms[0].wlMode.options[1].selected = true;
      if(enblWep == 'enabled')
         document.forms[0].wlWep.options[0].selected = true;
      else
      {
         wepKey.disabled = true;
         document.forms[0].wlWep.options[1].selected = true;
      }
      for (var i=0; i<document.forms[0].wlChannel.options.length; i++)
      {
         if (document.forms[0].wlChannel.options[i].value == channel)
         {
            document.forms[0].wlChannel.options[i].selected = true;
            break;
         }
      }
      wepKey.value = '<%ejGetWl(wlKey2)%>';
   }
}

function btnTftp() {
   var loc = 'tftp_get_fw.cmd?site=1';

   if((AdslOn == '&nbsp') || (WanIp == ''))
   {
      alert('Connexion impossible au serveur de mise à jour, veuillez ré-essayer');
      return;
   }
   if(update_flag == 1)
      var code = 'location.assign("club_alert.cmd")';
   else
      var code = 'location.assign("' + loc + '")';
   eval(code);
}
function btnTftpConf() {
   var loc = 'tftp_get_Conf.cmd?site=1';

   if((AdslOn == '&nbsp') || (WanIp == ''))
   {
      alert('Connexion impossible au serveur de mise à jour, veuillez ré-essayer');
      return;
   }
   if(update_flag == 1)
      var code = 'location.assign("club_alert.cmd")';
   else
      var code = 'location.assign("' + loc + '")';
   eval(code);
}

function restoreClick() {
   var loc = 'restoreinfo.cgi';

   if (isNetscape())
      var code = 'location.replace("' + loc + '")';
   else
      var code = 'location.assign("' + loc + '")';

   if (confirm("Etre-vous sure de vouloir restaurer les paramètres d’usine ?"))
      eval(code);
}

function checkwds(option)
{
   with(document.forms[0])
   {
      if(option != 0)
      {
         if(wlMode.value == 'ap')
         {
            //wlWep.disabled = false;
            if(wlWep.value == 'enabled')
               wepKey.disabled = false;
            else
               wepKey.disabled = true;
         }
         //else
         //{
            //wlWep.disabled = true;
            //wepKey.disabled = true;
         //}
      }
      else
      {
         if(wlWep.value == 'enabled')
            wepKey.disabled = false;
         else
            wepKey.disabled = true;
      }
   }
}

function btnApply() {

   var loc = 'update_club.cmd?';
   with ( document.forms[0] )
   {
      var len = wepKey.value.length;
      if(len != 0)
      {   
         if((len != 26) && (len != 13))
         {
            alert('Entrer 13 caractères ASCII ou 26 Chiffres en hexadécimal pour les clés de cryptage 128 bits.');
            return;
         }
      }

      loc += 'pppUserName=' + pppUserName.value;
      loc += '&pppPassword=' + pppPassword.value;
      loc += '&mgcpName=' + mgcpName.value;
      loc += '&callAgent=' + callAgent.value;
      loc += '&ssId=' + ssId.value;
      loc += '&wlMode=' + wlMode.value;
      loc += '&wlWep=' + wlWep.value;
      loc += '&wlChannel=' + wlChannel.value;
      loc += '&wepKey=' + wepKey.value;
   }
                                                                                      
   if (isNetscape())
      var code = 'location.replace("' + loc + '")';
   else
      var code = 'location.assign("' + loc + '")';                                     
   eval(code); 
}
// done hiding -->
            </script>
   </head>
   <!--<style type="text/css">
   .mainTitle  {color: #afb3b5; font-size: 25pt; font-family: "Helvetica Neue"; font-weight: bold}
   .mainCharacter {color: white; font-size: 11pt; font-family: "Verdana"; font-weight: bolder}
   .content1  {color: #000000; font-size: 10pt; font-family: "Verdana"; font-weight: normal}
   .content2  {color: #e1007c; font-size: 10pt; font-family: "Verdana"; font-weight: bolder}
   </style>-->
   <body onLoad='frmLoad()'>
      <blockquote>
            <!--<font class="mainTitle">INFORMATIONS MODEM</font>-->
            <img src='titres/titre_infos.gif' width='300' height='25'>
            <hr width="597" color="#afb3b5" size="4" align="left">      
             <table border="0" cellpadding="3" cellspacing="0" width="597">
                <tr bgcolor="#e2007a" height="17"><td colspan="3"><font class="mainCharacter">Informations Générales</font></td></tr>
                <tr bgcolor="#f2f2f2">
                   <td colspan="3"><font class="content1"><b>INFORMATIONS MODEM:</b></font></td>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - Version du firmware :</font></td>
                   <td colspan="2" align="left"><font class="content2"><%ejGet(sysVersion)%></font></td>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - Version du fichier de configuration :</font></td>
                   <td colspan="2" align="left"><font class="content2"><%ejGet(confVersion)%></font></td>
                </tr>
                <tr bgcolor="#f2f2f2"><td colspan="3">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr bgcolor="#f2f2f2">
                   <td colspan="3"><font class="content1"><b>INFORMATIONS SUR LA LIGNE ADSL:</b></font></td>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - Mode :</font></td>
                   <td colspan="2" align="left"><font class="content2"><%ejGetOther(stsadslget, 5, 1)%></font></td>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td></td>
                   <td align="left"><font class="content2"><b>(UPSTREAM)</b></font></td>
                   <td align="left"><font class="content2"><b>(DOWNSTREAM)</b></font></td>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - Débits de synchronisation ATM (Kbps):</font></td>
                   <td align="left"><font class="content2"><%ejGetOther(lineRate, 0)%></font></td>
                   <td align="left"><font class="content2"><%ejGetOther(lineRate, 1)%></font></td>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - Marge signal sur bruit (dB) :</font></td>
                   <td align="left"><font class="content2"><%ejGetOther(stsadslget, 8, 0)%></font></td>
                   <td align="left"><font class="content2"><%ejGetOther(stsadslget, 1, 0)%></font></td>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - Att&eacute;nuation (dB) :</font></td>
                   <td align="left"><font class="content2"><%ejGetOther(stsadslget, 8, 1)%></font></td>
                   <td align="left"><font class="content2"><%ejGetOther(stsadslget, 1, 1)%></font></td>
                </tr>
                <tr bgcolor="#f2f2f2"><td colspan="3">&nbsp;&nbsp;&nbsp;</td></tr>
                <tr bgcolor="#f2f2f2">
                   <td colspan="3"><font class="content1"><b>INFORMATIONS SUR LA CONNEXION EN COURS:</b></font></td>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - Type de connexion:</font></td>
<script language="javascript">
<!-- hide
{
   var i = 0;
   var interfaceInfo = '<%ejGetOther(wanInterfaceInfo, wanip)%>';
   var interfaces = interfaceInfo.split('|');

   if ( interfaceInfo.length != 0 )
   {
      document.writeln("                  <td align='left' colspan='2'><font class='content2'>");
      for ( i = 0; i < interfaces.length; i++ ) {
         var names = interfaces[i].split('/');
         document.writeln(names[0]);
         if ( i < (interfaces.length - 1) )
            document.writeln("<br>");
      }
      document.writeln("                  </font></td>");
   }
   else
      document.writeln("                  <td colspan='2'>&nbsp</td>");
}
// done hiding -->
</script>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - Etat de la connexion:</font></td>
<script language="javascript">
<!-- hide
{
   var i = 0;
   var statelist = '<%ejGetOther(wanInterfaceInfo, state)%>';
   var state = statelist.split('|');

   if ( statelist.length != 0 )
   {
      document.writeln("                  <td align='left' colspan='2'><font class='content2'>");
      for ( i = 0; i < state.length; i++ ) {
         document.writeln(state);
         if ( i < (state.length - 1) )
            document.writeln("<br>");
      }
      document.writeln("                  </font></td>");
   }
   else
      document.writeln("                  <td colspan='2'>&nbsp</td>");
}
// done hiding -->
</script>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - Adresse IP du réseau distant (WAN) :</font></td>
<script language="javascript">
<!-- hide
{
   var i = 0;
   var interfaceInfo = '<%ejGetOther(wanInterfaceInfo, wanip)%>';
   var interfaces = interfaceInfo.split('|');

   if ( interfaceInfo.length != 0 )
   {
      document.writeln("                  <td align='left' colspan='2'><font class='content2'>");
      for ( i = 0; i < interfaces.length; i++ ) {
         var names = interfaces[i].split('/');
         document.writeln(names[1]);
         if ( i < (interfaces.length - 1) )
            document.writeln("<br>");
      }
      document.writeln("                  </font></td>");
   }
   else
      document.writeln("                  <td colspan='2'>&nbsp</td>");
}
// done hiding -->
</script>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - TX/RX:</font></td>
                   <td colspan="2" align="left"><font class="content2"><%ejGetOther(stsadslget, 8, 4)%>/<%ejGetOther(stsadslget, 1, 4)%></font></td>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - Adresse du serveur DNS primaire :</font></td>
                   <td colspan="2" align="left"><font class="content2"><%ejGetOther(sysInfo, dns)%></font></td>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - Adresse du serveur DNS secondaire :</font></td>
                   <td colspan="2" align="left"><font class="content2"><%ejGetOther(sysInfo, dns2)%></font></td>
                </tr>
                <tr bgcolor="#f2f2f2">
                   <td nowrap><font class="content1"> - Adresse de la passerelle par d&eacute;faut :</font></td>
<script language="javascript">
<!-- hide
var dfltGw = '<%ejGetOther(sysInfo, dfltGw)%>';
var dfltGwIfc = '<%ejGetOther(sysInfo, dfltGwIfc)%>';
if ( dfltGw != '&nbsp' )
  document.writeln("                  <td align='left' colspan='2'><font class='content2'>" + dfltGw + "</font</td>");
else
  document.writeln("                  <td align='left' colspan='2'><font class='content2'>" + dfltGwIfc + "</font></td>");
// done hiding -->
</script>
                </tr>
             </table>
             <br>
             <form>
            <table width='597'><tr><td align='center'>           
            <img border='0' onClick='btnTftp()' src='button/btn_maj_firmware_on.gif' hspace='6' vspace='6' width='370' height='23' style="CURSOR: hand"></td></tr>
            <tr><td align='center'>  
            <img border='0' onClick='btnTftpConf()' src='button/btn_maj_config_on.gif' hspace='6' vspace='6' width='370' height='23' style="CURSOR: hand">
            </td></tr></table>
            <br>
            <table border='0' cellpadding='3' cellspacing='0' width='597'>
            <tr bgcolor='#e2007a' height='20'><td nowrap><font class='mainCharacter'>Paramètres</font></td></tr></table>
            <table border='0' cellpadding='3' cellspacing='0' width='597'>
            <tr bgcolor='#f2f2f2'><td class='content1' colspan='2'>&nbsp;</td></tr>
            <tr bgcolor='#f2f2f2'><td class='content1' colspan='2'><b>PARAMETRES ABONNES:</b></td></tr>
            <tr bgcolor="#f2f2f2">
               <td nowrap><font class="content1"> - Login de connexion PPP:</font></td>
               <td align="left"><input type='text' name='pppUserName' size="30" maxlength="64"></td>
            </tr>
            <tr bgcolor="#f2f2f2">
               <td nowrap><font class="content1"> - Mot de passe  connexion PPP:</font></td>
               <td align="left"><input type='password' name='pppPassword' size="30" maxlength="64"></td>
            </tr>
            <tr bgcolor="#f2f2f2">
               <td nowrap><font class="content1"> - Code confidentiel téléphonie:</font></td>
               <td align="left"><input type='text' name='mgcpName' size="30" maxlength="64"></td>
            </tr>
            <tr bgcolor="#f2f2f2">
               <td nowrap><font class="content1"> - Adresse du RTP:</font></td>
               <td align="left"><input type='text' name='callAgent' size="30" maxlength="64"></td>
            </tr>
            <tr bgcolor='#f2f2f2'><td class='content1' colspan='2'>&nbsp;</td></tr>
            <tr bgcolor='#f2f2f2'><td class='content1' colspan='2'><b>PARAMETRES DU RESEAU SANS FIL (WLAN):</b></td></tr>
            <tr bgcolor="#f2f2f2">
               <td nowrap><font class="content1"> - SSID du réseau sans fil Wi-fi (WLAN): </font></td>
               <td align="left"><input type='text' name='ssId' size="30" maxlength="64">-<%ejGetWl(bcmMac_LowBytes)%></td>
            </tr>
            <tr bgcolor="#f2f2f2">
               <td nowrap><font class="content1"> - Type de point d’accès: </font></td>
               <td align="left"><select name='wlMode' onChange='checkwds(1)'>
                  <option value ='ap'>Point d'accès 
                  <option value='wds'>Pont sans fil
               </td>
            </tr>
            <tr bgcolor="#f2f2f2">
               <td nowrap><font class="content1"> - Option de sécurité WEP: </font></td>
               <td align="left"><select name='wlWep' onChange='checkwds(0)'>
                  <option value='enabled'>Activé 
                  <option value='disabled'>Désactivé 
               </td>
            </tr>
            <tr bgcolor="#f2f2f2">
               <td nowrap><font class="content1"> - Canal Utilisé:</font></td>
               <td align="left"><select name='wlChannel'>
                   <option value='0'>Auto
                   <option value='1'>1
                   <option value='2'>2
                   <option value='3'>3
                   <option value='4'>4
                   <option value='5'>5
                   <option value='6'>6
                   <option value='7'>7
                   <option value='8'>8
                   <option value='9'>9
                   <option value='10'>10
                   <option value='11'>11
                   <option value='12'>12
                   <option value='13'>13
               </td>
            </tr>
            <tr bgcolor="#f2f2f2">
               <td nowrap><font class="content1"> - Clé WEP Associée:</font></td>
               <td align="left"><input type='text' name='wepKey' size="30" maxlength="64"></td>
            </tr>
            <tr bgcolor='#f2f2f2'><td class='content1' colspan='2'>&nbsp;</td></tr>
            </table>
            </form>
            <table width='597'><tr><td align='center'>
            <img border='0' onClick='restoreClick()' src='button/btn_restauration_on.gif' hspace='6' vspace='6' width='280' height='23' style="CURSOR: hand">&nbsp;&nbsp;
           <img border='0' onClick='btnApply()' src='button/btn_sauver_redemarrer_on.gif' hspace='6' vspace='6' width='160' height='23' style="CURSOR: hand">
            </td></tr></table>
      </blockquote>
   </body>
</html>
